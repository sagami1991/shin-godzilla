{"version":3,"sources":["websocket/FieldController.ts"],"names":[],"mappings":";AAEA,sBAAoC,gBAAgB,CAAC,CAAA;AACrD;IAGC,yBAAoB,IAAoB;QAApB,SAAI,GAAJ,IAAI,CAAgB;QAFhC,YAAO,GAAc,iBAAS,CAAC,OAAO,CAAC;IAG/C,CAAC;IAFD,sBAAI,mCAAM;aAAV,cAAe,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;;;OAAA;IAI9B,8BAAI,GAAX;QAAA,iBAEC;QADA,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,kBAAU,CAAC,KAAK,EAAE,UAAC,EAAE,EAAE,IAAI,IAAK,OAAA,KAAI,CAAC,mBAAmB,CAAC,EAAE,EAAE,IAAI,CAAC,EAAlC,CAAkC,CAAC,CAAA;IAC5F,CAAC;IACO,6CAAmB,GAA3B,UAA4B,EAAa,EAAE,IAAe;QACzD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YACjB,IAAI,EAAE,kBAAU,CAAC,KAAK;YACtB,KAAK,EAAE,IAAI,CAAC,OAAO;SACnB,CAAC,CAAC;IACJ,CAAC;IACF,sBAAC;AAAD,CAhBA,AAgBC,IAAA;AAhBY,uBAAe,kBAgB3B,CAAA","file":"websocket/FieldController.js","sourcesContent":["import * as WebSocket from 'ws';\r\nimport {MainController} from \"./MainController\";\r\nimport {SocketType, FieldType} from \"../share/share\";\r\nexport class FieldController {\r\n\tprivate _bgType: FieldType = FieldType.henesys;\r\n\tget bgType() { return this._bgType; }\r\n\tconstructor(private main: MainController) {\r\n\t}\r\n\r\n\tpublic init() {\r\n\t\tthis.main.addMsgListner(SocketType.field, (ws, data) => this.sendFieldTypeForAll(ws, data))\r\n\t}\r\n\tprivate sendFieldTypeForAll(ws: WebSocket, type: FieldType) {\r\n\t\tthis._bgType = type;\r\n\t\tthis.main.sendAll({\r\n\t\t\ttype: SocketType.field,\r\n\t\t\tvalue: this._bgType\r\n\t\t});\r\n\t}\r\n}"],"sourceRoot":"/source/"}